(function(e){"use strict";redux.field_objects=redux.field_objects||{};redux.field_objects.layout=redux.field_objects.layout||{};e(document).ready(function(){});redux.field_objects.layout.init=function(t){if(!t){t=e(document).find(".redux-container-layout")}e(t).each(function(){var t=e(this);var n=t;if(!t.hasClass("redux-field-container")){n=t.parents(".redux-field-container:first")}if(n.hasClass("redux-field-init")){n.removeClass("redux-field-init")}else{return}t.find(".redux-layout-top, .redux-layout-right, .redux-layout-bottom, .redux-layout-left, .redux-layout-all").numeric({allowMinus:false});var r={triggerChange:true,allowClear:true};var i=t.find(".redux-container-layout").find(".select2_params");if(i.size()>0){var s=i.val();s=JSON.parse(s);r=e.extend({},r,s)}t.find(".redux-layout-style").select2(r);t.find(".redux-layout-input").on("change",function(){var t=e(this).parents(".redux-field:first").find(".field-units").val();if(e(this).parents(".redux-field:first").find(".redux-layout-units").length!==0){t=e(this).parents(".redux-field:first").find(".redux-layout-units option:selected").val()}var n=e(this).val();if(typeof t!=="undefined"&&n){n+=t}if(e(this).hasClass("redux-layout-all")){e(this).parents(".redux-field:first").find(".redux-layout-value").each(function(){e(this).val(n)})}else{e("#"+e(this).attr("rel")).val(n)}});t.find(".redux-layout-units").on("change",function(){e(this).parents(".redux-field:first").find(".redux-layout-input").change()});t.find(".redux-color-init").wpColorPicker({change:function(n){redux_change(e(this));t.find("#"+n.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(){redux_change(e(this).parent().find(".redux-color-init"))}});t.find(".redux-color").on("keyup",function(){var t=colorValidate(this);if(t&&t!==e(this).val()){e(this).val(t)}});t.find(".redux-color").on("blur",function(){var t=e(this).val();if(colorValidate(this)===t){if(t.indexOf("#")!==0){e(this).val(e(this).data("oldcolor"))}}});t.find(".redux-color").on("keydown",function(){e(this).data("oldkeypress",e(this).val())})})}})(jQuery)