(function(b){b.redux=b.redux||{};var a=b("body");b(document).ready(function(){jQuery.fn.isOnScreen=function(){if(!window){return}var e=jQuery(window);var c={top:e.scrollTop(),left:e.scrollLeft()};c.right=c.left+e.width();c.bottom=c.top+e.height();var d=this.offset();d.right=d.left+this.outerWidth();d.bottom=d.top+this.outerHeight();return(!(c.right<d.left||c.left>d.right||c.bottom<d.top||c.top>d.bottom))};b.redux.required();a.on("check_dependencies",function(d,c){b.redux.check_dependencies(d,c)})});b.redux.required=function(){b(".hiddenFold , .showFold").each(function(){var e=b(this),c=e.parents("tr:eq(0)"),d=e.data();if(e.hasClass("hiddenFold")){c.addClass("hiddenFold").attr("data-check-field",d.checkField).attr("data-check-comparison",d.checkComparison).attr("data-check-value",d.checkValue).attr("data-check-id",d.id).hide();e.removeClass("hiddenFold").removeAttr("data-check-field").removeAttr("data-check-comparison").removeAttr("data-check-value")}else{c.attr("data-check-field",d.checkField).attr("data-check-comparison",d.checkComparison).attr("data-check-value",d.checkValue).attr("data-check-id",d.id);e.removeClass("showFold").removeAttr("data-check-field").removeAttr("data-check-comparison").removeAttr("data-check-value")}});b(".fold").promise().done(function(){b(".foldParent").each(function(){if(b(this).attr("type")=="radio"&&b(this).attr("checked")!="checked"){return}var c=b(this).parents(".redux-field:first").data("id");if(redux_opts.folds[c]){if(!redux_opts.folds[c].parent){b.redux.verify_fold(b(this))}}})});a.on("change","#redux-main select, #redux-main radio, #redux-main input[type=checkbox], #redux-main input[type=hidden]",function(c){b.redux.check_dependencies(c,this)})};b.redux.check_dependencies=function(j,d){var i=b(d),g=i.parents(".redux-group-tab:eq(0)");if(!g.length){g=a}if(b(d).prop("type")=="checkbox"){b(d).is(":checked")?b(d).val("1"):b(d).val("0")}var k=i.parents(".redux-field:first").data("id"),f=g.find('tr[data-check-field="'+k+'"]'),c=d.value,h=i.parents("tr:eq(0)").is(".hiddenFold");if(!f.length){return}f.each(function(){var o=b(this),n=o.data(),m=n.checkValue,l=false;if(!h){switch(n.checkComparison){case"=":case"equals":if(m.toString().indexOf("|")!==-1){var e=m.split("|");if(b.inArray(c,e)!=-1){l=true}}else{if(c==m){l=true}}break;case"!=":case"not":if(m.indexOf("|")!==-1){var e=m.split("|");if(b.inArray(c,e)==-1){l=true}}else{if(c!=m){l=true}}break;case">":case"greater":case"is_larger":if(parseFloat(c)>parseFloat(m)){l=true}break;case"<":case"less":case"is_smaller":if(parseFloat(c)<parseFloat(m)){l=true}break;case"contains":if(c.indexOf(m)!=-1){l=true}break;case"doesnt_contain":if(c.indexOf(m)==-1){l=true}break;case"is_empty_or":if(c==""||c==m){l=true}break;case"not_empty_and":if(c!=""&&c!=m){l=true}break}}b.redux.verify_fold(b(d))})};b.redux.verify_fold=function(f){var g=f.parents(".redux-field:first").data("id");var d=f.val();var e=(f.parents(".redux-groups-accordion-group:first").length>0)?f.parents(".redux-groups-accordion-group:first"):f.parents(".redux-group-tab:eq(0)");if(redux_opts.folds[g]){if(redux_opts.folds[g].children){var c={};b.each(redux_opts.folds[g].children,function(h,i){b.each(i,function(k,j){if(!c[j]){c[j]={show:false,hidden:false}}if(h==d||c[j]===true){c[j].show=true}if(c[j].show===true&&e.find('tr[data-check-id="'+g+'"]').hasClass("hiddenFold")){c[j].show=false}if(c[j].show===true&&e.find('tr[data-check-id="'+redux_opts.folds[g].parent+'"]').hasClass("hiddenFold")){c[j].show=false}c[j].hidden=e.find('tr[data-check-id="'+j+'"]').hasClass("hiddenFold")})});b.each(c,function(h){var i=e.find('tr[data-check-id="'+h+'"]');if(c[h].show===true){i.fadeIn("medium",function(){i.removeClass("hiddenFold");if(redux_opts.folds[h]&&redux_opts.folds[h].children){b.redux.verify_fold(i.find("select, radio, input[type=checkbox], input[type=hidden]"))}})}else{if(c[h].hidden===false){i.fadeOut("medium",function(){i.addClass("hiddenFold");if(redux_opts.folds[h].children){b.redux.verify_fold(i.find("select, radio, input[type=checkbox], input[type=hidden]"))}})}}})}}}})(jQuery);jQuery.noConflict();var confirmOnPageExit=function(b){b=b||window.event;var a=redux_opts.save_pending;if(b){b.returnValue=a}window.onbeforeunload=null;return a};function verify_fold(a){jQuery(document).ready(function(d){if(a.hasClass("redux-info")||a.hasClass("redux-typography")){return}var e=a.parents(".redux-field:first").data("id");var c=a.val();if(redux_opts.folds[e]){if(redux_opts.folds[e].children){var b={};d.each(redux_opts.folds[e].children,function(f,g){d.each(g,function(i,h){if(!b[h]){b[h]={show:false,hidden:false}}if(f==c||b[h]===true){b[h].show=true}if(b[h].show===true&&jQuery("#"+e).parents("tr:first").hasClass("hiddenFold")){b[h].show=false}if(b[h].show===true&&jQuery("#"+redux_opts.folds[e].parent).hasClass("hiddenFold")){b[h].show=false}b[h].hidden=jQuery("#"+h).parents("tr:first").hasClass("hiddenFold")})});d.each(b,function(f){var g=jQuery("#"+f).parents("tr:first");if(b[f].show===true){g.fadeIn("medium",function(){g.removeClass("hiddenFold");if(redux_opts.folds[f]&&redux_opts.folds[f].children){}})}else{if(b[f].hidden===false){g.fadeOut("medium",function(){g.addClass("hiddenFold");if(redux_opts.folds[f].children){}})}}})}}})}function redux_change(a){jQuery("body").trigger("check_dependencies",a);if(a.hasClass("compiler")){jQuery("#redux-compiler-hook").val(1)}if(a.hasClass("foldParent")){}window.onbeforeunload=confirmOnPageExit;if(jQuery(a).parents("fieldset.redux-field:first").hasClass("redux-field-error")){jQuery(a).parents("fieldset.redux-field:first").removeClass("redux-field-error");jQuery(a).parent().find(".redux-th-error").slideUp();var c=jQuery(a).closest(".redux-group-tab").attr("id");var b=true;jQuery("#"+c+" .redux-field-error").each(function(){b=false});if(b){jQuery("#"+c+"_li .redux-menu-error").hide();jQuery("#"+c+"_li .redux-group-tab-link-a").removeClass("hasError")}}jQuery("#redux-save-warn").slideDown()}jQuery(document).ready(function(f){f(".redux-action_bar, .redux-presets-bar").on("click",function(){window.onbeforeunload=null});if(jQuery().tipsy){f(".tips").tipsy({fade:true,gravity:"s",opacity:0.7})}f("#toplevel_page_"+redux_opts.slug+" .wp-submenu a").click(function(j){j.preventDefault();var i=f(this).attr("href").split("&tab=");f("#"+i[1]+"_section_group_li_a").click();console.log(i[1]);return false});f(".redux-group-tab-link-a").click(function(){relid=f(this).data("rel");f.cookie("redux_current_tab",relid,{expires:7,path:"/"});f("#toplevel_page_"+redux_opts.slug+" .wp-submenu a.current").removeClass("current");f("#toplevel_page_"+redux_opts.slug+" .wp-submenu li.current").removeClass("current");f("#toplevel_page_"+redux_opts.slug+" .wp-submenu a").each(function(){var j=f(this).attr("href").split("&tab=");if(j[1]==relid){f(this).addClass("current");f(this).parent().addClass("current")}});var i=f(".redux-group-tab-link-li.active .redux-group-tab-link-a").data("rel");f("#"+i+"_section_group_li").removeClass("active");f("#"+i+"_section_group").hide();f("#"+relid+"_section_group").fadeIn(300,function(){b()});f("#"+relid+"_section_group_li").addClass("active")});function d(i){return decodeURI((new RegExp(i+"=(.+?)(&|$)").exec(location.search)||[,""])[1])}var e=d("tab");if(e!==""){if(f.cookie("redux_current_tab_get")!==e){f.cookie("redux_current_tab",e,{expires:7,path:"/"});f.cookie("redux_current_tab_get",e,{expires:7,path:"/"});f("#"+e+"_section_group_li").click()}}else{if(f.cookie("redux_current_tab_get")!==""){f.removeCookie("redux_current_tab_get")}}var g=f("#"+f.cookie("redux_current_tab")+"_section_group_li_a");if(f.cookie("redux_current_tab")===null||typeof(f.cookie("redux_current_tab"))==="undefined"||g.length===0){f(".redux-group-tab-link-a:first").click()}else{g.click()}f('input[name="'+redux_opts.opt_name+'[defaults]"]').click(function(){if(!confirm(redux_opts.reset_confirm)){return false}window.onbeforeunload=null});f("#expand_options").click(function(l){l.preventDefault();var i=f("#expand_options");var n=f("#redux-main");var k=f("#redux-sidebar");var j=k.width();var m=f("#redux-group-menu").find(".active a").data("rel")+"_section_group";if(i.hasClass("expanded")){i.removeClass("expanded");n.removeClass("expand");k.stop().animate({"margin-left":"0px"},200,function(){f(this).removeAttr("style")}).toggle();n.stop().animate({"margin-left":j},200,function(){f(this).removeAttr("style")});f(".redux-group-tab").each(function(){if(f(this).attr("id")!==m){f(this).fadeOut("fast")}})}else{i.addClass("expanded");n.addClass("expand");k.stop().animate({"margin-left":-j-2},200).toggle();n.stop().animate({"margin-left":"0px"},200);f(".redux-group-tab").fadeIn()}return false});f("#redux-import").click(function(i){if(f("#import-code-value").val()===""&&f("#import-link-value").val()===""){i.preventDefault();return false}return true});if(f("#redux-save").is(":visible")){f("#redux-save").slideDown()}if(f("#redux-imported").is(":visible")){f("#redux-imported").slideDown()}f(document.body).on("change","input, textarea, select",function(){if(!f(this).hasClass("noUpdate")){redux_change(f(this))}});f("#redux-import-code-button").click(function(){if(f("#redux-import-link-wrapper").is(":visible")){f("#redux-import-link-wrapper").fadeOut("fast");f("#import-link-value").val("")}f("#redux-import-code-wrapper").fadeIn("slow")});f("#redux-import-link-button").click(function(){if(f("#redux-import-code-wrapper").is(":visible")){f("#redux-import-code-wrapper").fadeOut("fast");f("#import-code-value").val("")}f("#redux-import-link-wrapper").fadeIn("slow")});f("#redux-export-code-copy").click(function(){if(f("#redux-export-link-value").is(":visible")){f("#redux-export-link-value").fadeOut("slow")}f("#redux-export-code").toggle("fade")});f("#redux-export-link").click(function(){if(f("#redux-export-code").is(":visible")){f("#redux-export-code").fadeOut("slow")}f("#redux-export-link-value").toggle("fade")});var a=f("#redux-footer").height();f("#redux-sticky-padder").css({height:a});function b(){var i=f("#info_bar").width()-2;var j=f("#redux-footer");if(!f("#info_bar").isOnScreen()&&!jQuery("#redux-footer-sticky").isOnScreen()){j.css({position:"fixed",bottom:"0",width:i});j.addClass("sticky-footer-fixed");f("#redux-sticky-padder").show()}else{j.css({background:"#eee",position:"inherit",bottom:"inherit",width:"inherit"});f("#redux-sticky-padder").hide();j.removeClass("sticky-footer-fixed")}}f(window).scroll(function(){b()});f(window).resize(function(){b()});f("#redux-save, #redux-imported").delay(4000).slideUp();f("#redux-field-errors").delay(8000).slideUp();f(".redux-save").click(function(){window.onbeforeunload=null});f("#consolePrintObject").on("click",function(){console.log(f.parseJSON(f("#redux-object-json").html()))});if(typeof jsonView==="function"){jsonView("#redux-object-json","#redux-object-browser")}if(redux_opts.errors!==undefined){var h=f("#redux-field-errors");h.find("span").html(redux_opts.errors.total);h.show();f.each(redux_opts.errors.errors,function(j,i){f("#"+j+"_section_group_li_a").prepend('<span class="redux-menu-error">'+i.total+"</span>").addClass("hasError");f.each(i.errors,function(k,l){console.log(l);f("#"+redux_opts.opt_name+"-"+l.id).addClass("redux-field-error").append('<div class="redux-th-error">'+l.msg+"</div>")})})}if(redux_opts.warnings!==undefined){var c=f("#redux-field-warnings");c.find("span").html(redux_opts.warnings.total);c.show();f.each(redux_opts.warnings.warnings,function(j,i){f("#"+j+"_section_group_li_a").prepend('<span class="redux-menu-warning">'+i.total+"</span>").addClass("hasWarning");f.each(i.warnings,function(k,l){f("#"+redux_opts.opt_name+"-"+l.id).addClass("redux-field-warning").append('<div class="redux-th-warning">'+l.msg+"</div>")})})}f(".redux-section-tabs div").hide();f(".redux-section-tabs div:first").show();f(".redux-section-tabs ul li:first").addClass("active");f(".redux-section-tabs ul li a").click(function(){f(".redux-section-tabs ul li").removeClass("active");f(this).parent().addClass("active");var i=f(this).attr("href");f(".redux-section-tabs div").hide();f(i).fadeIn();return false})});